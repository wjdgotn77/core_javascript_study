# 실행 컨텍스트

## <span style="color: orange">스택 & 큐</span>

**스택(Stack)**: FILO 출입구가 하나, 비어있는 스택에 순서대로 1,2,3,4 로 저장하면 꺼낼 때는 4,3,2,1 로 꺼내야 한다.  
**큐(Queue)**: FIFO 양쪽이 모두 열려있는 파이프, 종류에 따라 양쪽 모두 입력과 출력이 가능한 큐도 있지만, 보통 한쪽은 입력만 다른 한쪽은 출력만을 담당.

<img src="https://media.vlpt.us/images/jabggujb9/post/5ffb24dc-c8c2-4aac-b579-627574a12d7f/image.png" />

<br>
<br>

## <span style="color: orange">1. 실행 컨텍스트란?</span>

실행할 때 필요한 **환경 정보들을 모아놓은 객체**  
동일한 환경에 있는 코드들을 실행할 때 필요한 환경 정보들을 모아 컨텍스트를 구성하고,  
이를 콜 스택에 쌓아올렸다가, 가장 위에 쌀여있는 컨텍스트와 관련 있는 코드들을 실행하는 식으로 전체 코드의 환경과 순서를 보장한다.  
여기서 _"동일한 환경"_ , 즉 하나의 실행 컨텍스트를 구성할 수 있는 방법으로 전역공간, eval() 함수, 함수 등이 있다.  
우리가 흔히 실행 컨텍스트를 구성하는 방법은 **함수를 실행** 하는 것 뿐. ( _ES6 에서는 "블록{}" 에 의해서도 새로운 실행컨텍스트가 생성된다._ )

[에제1번] 실행컨텍스트와 콜 스택.

```js
// ------------------------------------- (1)

/* (1) 자바스크립트 코드 실행하는 순간.
 * 전역 컨텍스트가 콜 스택에 담긴다.
 * 전역 컨텍스트: 일반적인 실행 컨텍스트와 특별히 다를 것이 없음.
 * 최상단의 공간은 코드 내부에서 별도의 실행 명령이 없어도 브라우저에서 자동으로 실행하므로,
 * 자바스크립트 파일이 열리는 순간 전역 컨텍스트가 활성화된다.
 */

var a = 1;

function outer() {
  function inner() {
    console.log(a); // undefined
    var a = 3;
  }

  inner(); // -----------------(2)
  /* inner 함수가 다시 콜스택의 최상단에 들어가게 된다.
   * outer 멈추고 inner 함수 내부의 코드 순차적으로 실행.
   */
  console.log(a);
}

outer(); // ------------------(3)
/* outer함수를 호출하면 outer 에 대한 환경 정보를 수집해 실행컨텍스트를 생성 후 콜스택에 담는다.
 * 콜스택의 맨 위에 outer 실행컨텍스트가 놓인 상태 전역 컨텍스트 멈추고 outer 부터 코드 실행.
 */
console.log(a);
```

실행 컨택스트가 콜 스택의 맨 위에 쌓이는 순간이 현재 실행할 코드에 관여하게 되는 시점. => 런타임 !!  
어떤 실행컨텍스트가 활성화 될 때, 자바스크립트 엔진은 해당 컨텍스트에 관련된 코드들을 실행하는 데 필요한 환경 정보들을 수집해 실행 컨텍스트 객체에 저장.  
🧐 **"This"** Binding 의 시점 !!!
